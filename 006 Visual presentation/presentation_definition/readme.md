## Presentation definition schema

### 4.0 Термины (как по русски назвать используемые понятия):

**annotation** - 

**annotation primitive** - 

**annotation point** - 

**Annotation text** - 

**annotation symbol** - 

**annotation table** - 

**annotation_occurrence** -  Примитив аннотаций вместе со своим стилем

### 4.1 Общие положения

Схема presentation_definition_schema предоставляет структуру для определения аннотации (definition of annotation) и присвоения свойств стиля (assignment of style properties) примитивам аннотации (annotation primitives). Аннотация в этой части стандарта ISO 10303 всегда плоская, но может быть расположена в трехмерном пространстве.

**Примитивы аннотаций** - это элементы, из которых создаются символьные представления. Примитивы аннотаций, определенные в этой схеме, включают точки аннотации, кривые, области заливки, тексты, символы и таблицы.

**Точка аннотации** (annotation point) - это точка, которая представлена с использованием point_style. Схема оформления презентации не определяет специальный объект для точек аннотации, поскольку для целей аннотации достаточно объекта точки, определенного в стандарте ISO 10303-42.

**Кривая аннотации** (annotation curve) - это плоская кривая, которая представлена с использованием curve_style. Схема оформления презентации не определяет специальный объект для кривых аннотации, поскольку для целей аннотации достаточно объекта кривой, определенного в ISO 10303-42.

**Текст аннотации** (Annotation text) представляет собой набор символов, символьных строк, коллекций строк и более сложных коллекций строк и символов. Текст аннотации определяется сущностью annotation_text, которая использует концепцию mapped_item. Для получения дополнительной информации о mapped_item смотрите ISO 10303-43. Объект annotation_text позиционирует и ориентирует набор символов, простые символьные строки, набор строк и более сложные наборы строк и символов, которые определены в text_string_representation. Несколько объектов annotation_text могут ссылаться на одно и то же текстовое представление. Само по себе текстовое представление представляет собой набор объектов annotation_text, defined_character_glyph, annotation_text_character, text_literal или composite_text. Эта структура позволяет рекурсивно создавать текст аннотации. Символы могут быть заданы заранее, определены извне или могут быть определены в рамках соответствующего обмена с использованием концепций этой части стандарта ISO 10303. В последнем случае объект annotation_text_character ссылается на объект character_glyph_symbol. Этот объект содержит геометрическое представление символа. text_literal позволяет указать текстовую строку как часть аннотации_text. Сложная коллекция, которая может быть размещена и оформлена как единое целое, может быть определена с помощью объекта composite_text. Специализация annotation_text позволяет дополнительно указывать поля для заполнения, окружающие кривые, границы или прямоугольники экстента для этого текста. Текст аннотации представлен с использованием текстового стиля. Более подробную информацию о text_style смотрите в разделе 6.

**Символ аннотации** (annotation symbol) - это заранее определенный символ, внешний символ или набор элементов представления, которые образуют графический символ. Символ аннотации определяется либо с помощью объекта defined_symbol, либо с помощью объекта annotation_symbol. Объект defined_symbol масштабирует, позиционирует и ориентирует неявное описание символа. Объект annotation_symbol использует концепцию mapped_item. Для получения дополнительной информации о mapped_item смотрите ISO 10303-43. Объект annotation_symbol масштабирует, позиционирует и ориентирует набор элементов представления, которые определены в symbol_representation. Несколько объектов annotation_symbol могут ссылаться на одно и то же представление символа. Элементы представления, из которых состоит символ, могут быть элементами геометрии (см. ISO 10303-42), примитивами аннотаций или вхождениями в аннотации. Эта структура позволяет рекурсивно создавать символы. Более того, само представление символа может быть построено из нескольких представлений символа. Такая иерархия определяется путем установления связи между двумя представлениями символа. Связь устанавливается путем создания экземпляра объекта типа symbol_representation_relationship, который ссылается на пару представлений. Одно из этих представлений называется rep_1, другое - rep_2, и связь направлена от родительского (rep_1) к дочернему (rep_2). Связь дополнительно определяет преобразование. Это преобразование должно быть выполнено для преобразования элементов в rep_2 в систему координат rep_1. Таким образом, одно представление symbol_representation представляет собой набор всех элементов представления в этом представлении плюс все представления symbol_representation, которые являются узлами в дереве отношений, связанном с этим представлением. Символы представлены с использованием symbol_style, который представляет собой набор стилей представления. Для получения дополнительной информации о symbol_style смотрите раздел 6.

**Таблица аннотаций** (annotation table) - это особый тип символа annotation_symbol, который представляет таблицу. Таблица аннотаций определяется объектом annotation_table, который использует концепцию mapped_item. Для получения дополнительной информации о mapped_item смотрите ISO 10303-43. Объект annotation_table масштабирует, позиционирует и ориентирует таблицу, которая определена в table_representation. Несколько объектов annotation_table могут ссылаться на одно и то же table_representation. table_representation может быть составлено из table_record_representations, которые, в свою очередь, могут быть составлены из нескольких table_record_fieldrepresentations. table_record_representation обычно соответствует столбцу или строке таблицы, в то время как table_record_fieldrepresentation соответствует отдельной ячейке таблицы. Тем не менее, могут быть созданы более сложные структуры, поскольку представления table_record_field_ могут быть построены из других представлений table_record_field_. Иерархия, составляющая table_representation, строится путем соотнесения компонентов с помощью table_representation_relationship, которое является специализацией symbol_representation_relationship. Таблица аннотаций определяет только пустую таблицу. Чтобы поместить текст в таблицу, вхождения annotation_text определяются индивидуально таким образом, что они помещаются в таблицу. Связь table_text_relationship может использоваться для привязки такого текста к определенному полю таблицы.

Примитивы аннотаций могут использоваться только в сочетании с назначением стиля. Примитив аннотаций вместе со своим стилем называется annotation_occurrence. Для каждого типа примитива определяется специальный annotation_occurrence, который ограничивает стиль представления соответствующими типами. Параметр annotation_occurrence_relationship позволяет определить взаимосвязь между двумя параметрами annotation_occurrences. table_text_relationship связывает annotation_text_occurrence с table_record_field_representation таблицы аннотаций.