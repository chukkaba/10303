# Описание кривой
![](source/curve.png)

Кривая - это непрерывное отображение отрезка [t1, t2] в точки двумерного или трехмерного пространства. Диапазон [t1, t2] называется областью определения кривой. Значение радиус-вектора и производных кривой, вычисленных за пределами области определения в общем случае не определено.

Перечень классов: 
- line
- ellipse
- polyline
- rational_b_spline_curve
- direction_inverted_curve
- trimmed_curve
- pcurve
- curve_replica


## Класс line

Бесконечная прямая линия, заданная точкой и вектором. Непосредственно в моделировании не используется, является основой для построения отрезка. Также может использоваться для экстраполяции кривых.

Область определения бесконечная.

Радиус-вектор вычисляется по формуле:

\vec{r}(t) = \vec{p_0} + \vec{d} \cdot t


## Класс ellipse

Эллипс, положение центра и направление осей которого задается в локальной системе координат. Используется в моделировании как непосредственно, так и как основа для построения других кривых.

Область определения бесконечная.

Радиус-вектор вычисляется по формуле:

\vec{r}(t) = \vec{C} + \vec{X0} \cdot A \cdot \cos(t) + \vec{Y0} \cdot B \cdot \sin(t) .


## Класс polyline

Ломаная линия, соединяющая последовательно опорные точки.

Область определения [0,N-1], где N - количество опорных точек, нумерация начинается с нуля.

Является частным случаем интерполяционный кривой: радиус-вектор при целочисленных значениях параметра совпадает с опорными точками, при дробных лежит на отрезке между соседними точками:

\vec{r}(t) = \vec{R_{i-1}} \cdot t + \vec{R_{i}} \csot (1-t), где i-1 <= t <=i .


## Класс rational_b_spline_curve

Интерполяционная кривая NURBS на основе неоднородных рациональных сплайнов. Форма кривой определяется следующими параметрами:
Массив опорных точек,
Массив весов опорных точек,
Степень интерполяционного сплайна - целое положительное число,
Признак замкнутости кривой - булев,
Узловой вектор - определяет параметризацию, представляет собой массив пар числа с плавающей точкой и целого положительного числа, где первый элемент пары - значение параметра, второй - кратность узла. Количество элементов в массиве узлов связано с другими порядками соотношением:
Радиус-вектор NURBS вычисляется по формуле <TODO : привести рисунок>

## Класс direction_inverted_curve

Инвертированная кривая.
Определяется базовой кривой.
Имеет ту же область определения и физическую геометрию, но идёт в противоположном направлении по отношению к базовой кривой.
Радиус-вектор инвертированной кривой вычисляется по формуле:

\vec{r}(t) = \vec{r_{basis}}( t_{min} + t_{max} - t ) .

## Класс trimmed_curve

Усеченная кривая.
Определяется на основе усекаемой кривой и двух точек в пространстве той же размерности.
Для каждой из точек вычисляется значение параметра, соответствующее кратчайшему расстоянию от кривой до точки. Значение этих парамтеров определяет параметризацию усеченной кривой.
Параметр, соответствующий первой точке не может быть больше, чем параметр, соответствующий вторй точке.
Рекомендуется по возможности для задания усекающих точек использовать тип point_on_curve с указанием усекаемой кривой в качестве базовой.

## Класс pcurve

Пространственная кривая. Определяется двумерной базовой кривой и поверхностью. Область значений базовой кривой должна лежать внутри области определения поверхности.
Область определения пространственной кривой совпадает с областью определения базовой кривой.
Радиус-вектор вычисляется по формуле:

\vec{r}(t) = \vec{s}( r_{basis}(t) ) .


## Класс curve_replica

Копия кривой, трансформированная в пространстве или на плоскости.
